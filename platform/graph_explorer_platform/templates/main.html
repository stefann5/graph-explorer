{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="workspace-controls">
    <select id="dataSourceSelect">
        <option value="">Select Data Source</option>
    </select>
    <select id="workspaceSelect">
        <option value="">Select Workspace</option>
    </select>
    <button id="newWorkspace">New Workspace</button>
    <button id="saveWorkspace">Save Workspace</button>
</div>

<div class="search-filter-container">
    <div class="search-box">
        <input type="text" id="searchInput" placeholder="Search graph...">
    </div>
    <div class="filter-box">
        <input type="text" id="filterInput" placeholder="Filter (e.g., years > 25)">
    </div>
</div>

<div class="visualization-controls">
    <button id="toggleView">Toggle View (Simple/Block)</button>
    <button id="resetView">Reset View</button>
    <button id="clearFilters">Clear Filters</button>
</div>

<div class="views-container">
    <div class="tree-view" id="tree-view">
    </div>
    <div class="main-view" id="main-view">
    </div>
    <div class="bird-view" id="bird-view">
    </div>
</div>

{% block extra_css %}
<style>
    body {
        margin: 0;
        padding: 20px;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background-color: #bdfab4;
        color: #333;
    }
    .link {
    stroke: #999;
    stroke-width: 1px;
    }
    .node rect {
        fill: white;
        stroke: #666;
        stroke-width: 1px;
    }
    .node text {
        text-anchor: middle;
    }

    .workspace-controls, .visualization-controls {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
    }

    .workspace-controls select, 
    .workspace-controls button,
    .visualization-controls button {
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        background-color: #fff;
        transition: background-color 0.2s;
        cursor: pointer;
    }

    .workspace-controls button:hover,
    .visualization-controls button:hover {
        background-color: #e0e0e0;
    }

    .search-filter-container {
        display: flex;
        gap: 20px;
        margin-bottom: 20px;
    }

    .search-box, .filter-box {
        flex: 1;
        padding: 10px;
        border-radius: 8px;
        background-color: #fff;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .search-box input, .filter-box input {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
    }

    .views-container {
        display: grid;
        grid-template-columns: 250px 1fr;
        grid-template-rows: 1fr 200px;
        gap: 20px;
        height: 80vh;
    }

    .tree-view, .main-view, .bird-view {
        border: 1px solid #ccc;
        border-radius: 8px;
        background-color: #fff;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        overflow: auto;
    }

    .tree-view {
        grid-row: 1 / -1;
    }
</style>
{% include "birdview.html" %}
{% endblock %}
{% block extra_js %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
<script>
    {{ code|safe }}
</script>
{% endblock %}
{% endblock content %}